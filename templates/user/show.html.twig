{% extends 'base.html.twig' %}

{% block title %} Profil {% endblock %}

{% block body %}

<div class="listEditUser">

        {# J'affiche un titre pour le profil de l'utilisateur #}
        <h2 class="text-gray-300"> Profil {{ user.prenom }} </h2>

        {# J'affiche les informations spécifiques de l'utilisateur #}
        <div>
                <div>
                        {% if user.photo %}
                        <img src="{{ asset('uploads/photos/' ~ user.photo) }}" alt="Photo de profil"
                                class="h-32 w-32 object-cover rounded-full">
                        {% else %}
                        <img src="{{ asset('img/default-profile.jpg') }}" alt="Photo de profil par défaut"
                                class="h-32 w-32 object-cover rounded-full">
                        {{ dump(user.photo) }}

                        {% endif %}
                </div>
                <div>
                        <p class="text-gray-300">Nom : {{ user.nom }}</p>
                        <p class="text-gray-300">Prénom : {{ user.prenom }}</p>
                        <p class="text-gray-300">Email : {{ user.email }}</p>
                </div>
        </div>
        <div>
                <p class="text-gray-300">About Me : {{ user.aboutMe }}</p>
        </div>

        {# Lien pour modifier le profil de l'utilisateur en utilisant son ID #}
        {# Afficher le bouton seulement pour l'utilisateur connecté ou l'administrateur #}
        {% if app.user is not null and (app.user.id == user.id or 'ROLE_ADMIN' in app.user.roles) %}
        <a class="text-black font-bold py-2 px-4 rounded" style="background-color: #ECECEC;"
                href="{{ path('edit_user', { id: user.id }) }}">
                Modifier le profil
        </a>
        <a class="text-black font-bold py-2 px-4 rounded" style="background-color: #ECECEC;"
                href="{{ path('app_message') }}">
                Messagerie
        </a>
        {% endif %}

</div>

{% endblock %}