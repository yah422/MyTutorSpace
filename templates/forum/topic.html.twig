{% extends 'base.html.twig' %}

{% block title %}Nouveau sujet - Forum MyTutorSpace{% endblock %}

{% block body %}

<div style="height:100vh;">
    <div class="border-b border-gray-300 pb-6 mb-6">
        <div class="prose max-w-none text-gray-300">
            {{ topic.content|nl2br }}
        </div>

        {% if app.user == topic.author %}
        <div class="mt-4 text-right">
            <a href="{{ path('app_forum_edit_topic', {'id': topic.id}) }}"
                class="text-sm text-gray-300 underline hover:text-[#567C8D] transition-colors duration-300">
                Modifier le sujet
            </a>
        </div>
        {% endif %}
    </div>

    <div class="space-y-6">
        {% for post in topic.posts %}
        <div class="border-b border-gray-300 pb-6">
            <div class="flex justify-between items-start mb-4">
                <div class="font-semibold text-[#1B4255]">{{ post.author.prenom }}</div>
                <div class="text-sm text-gray-500">{{ post.createdAt|date('d/m/Y H:i') }}</div>
            </div>
            <div class="prose max-w-none text-gray-700">
                {{ post.content|nl2br }}
            </div>

            {% if app.user == post.author %}
            <div class="mt-2 text-right">
                <a href="{{ path('app_forum_edit_post', {'id': post.id}) }}"
                    class="text-sm text-[#1B4255] underline hover:text-[#567C8D] transition-colors duration-300">
                    Modifier le post
                </a>
            </div>
            {% endif %}
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}