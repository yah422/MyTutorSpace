{% extends 'base.html.twig' %}

{% block title %} Réservation {% endblock %}

{% block body %}
<div class="max-w-4xl mx-auto p-6  shadow-lg rounded-lg">
    <h1 class="text-2xl font-bold text-center text-gray-800 mb-6">Réserver une leçon</h1>

    {{ form_start(form, {'attr': {'id': 'appointment_form', 'novalidate': 'novalidate'}}) }}

    <!-- Nom -->
    <div class="mb-4">
        {{ form_row(form.nom, {'attr': {'placeholder': 'Votre nom', 'class': 'w-full p-3 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500'}}) }}
        <span id="name_error" class="text-red-600 text-sm"></span>
    </div>

    <!-- Prénom -->
    <div class="mb-4">
        {{ form_row(form.prenom, {'attr': {'placeholder': 'Votre prénom', 'class': 'w-full p-3 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500'}}) }}
        <span id="firstName_error" class="text-red-600 text-sm"></span>
    </div>

    <!-- Email -->
    <div class="mb-4">
        {{ form_row(form.email, {'attr': {'placeholder': 'Votre email', 'class': 'w-full p-3 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500'}}) }}
        <span id="email_error" class="text-red-600 text-sm"></span>
    </div>

    <!-- Date -->
    <div class="mb-4">
        {{ form_row(form.dateDebut, {'attr': {'class': 'w-full p-3 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 js-datepicker'}}) }}
        <span id="date_error" class="text-red-600 text-sm"></span>
    </div>

    <!-- Message -->
    <div class="mb-4">
        {{ form_row(form.message, {
            'attr': {
                'class': 'w-full p-3 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 h-32',
                'placeholder': 'Votre message'
            }
        }) }}
        <span id="message_error" class="text-red-600 text-sm"></span>
    </div>

    <!-- Créneaux horaires disponibles -->
    <div id="available-rdv" class="mb-6">
        <h2 class="text-lg font-medium text-gray-700">Créneaux horaires disponibles</h2>
        <!-- Les créneaux horaires générés par JavaScript seront insérés ici -->
    </div>

    <!-- Champs cachés -->
    <input type="hidden" id="selectedSlot" name="selectedSlot">

    <!-- Leçons -->
    <div class="mb-6">
        <h2 class="text-lg font-medium text-gray-700 mb-2">Choisissez vos cours :</h2>
        {{ form_row(form.lecons, {'attr': {'class': 'w-full p-3 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500'}}) }}
    </div>

    <input type="hidden" id="selectedLecon" name="selectedLecon">

    <!-- Bouton de soumission -->
    <div class="text-center">
        <button type="submit" id="appointment_save" class="bg-blue-500 text-white font-semibold py-2 px-4 rounded-md shadow-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400">
            Valider la réservation
        </button>
    </div>

    {{ form_end(form) }}
</div>
{% endblock %}
