<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}Se connecter {% endblock %}</title>
        <link rel="icon" href="{{ asset('img/iconTitle.png') }}">
        {% block stylesheets %}
            {{ encore_entry_link_tags('app') }}
        <link rel="stylesheet" href="{{ asset('styles/app.css') }}">
        {% endblock %}

        {% block javascripts %}
            {{ encore_entry_script_tags('app') }}
            {% block importmap %}{{ importmap('app') }}{% endblock %}
        {% endblock %}
    </head>
    <body>
        {% block body %}

            <div class="titleRegister">
                <h1 class="h1log"> <strong> Connectez-vous </strong>  </h1>
                <a href="{{ path('home') }}" style="width: 40PX;height: auto;margin-right: 20px;"> <img src="/img/close.png" alt="imageClose"> </a>
            </div>

            <div class="container mx-auto px-4 py-8">
            
                <div class="form">
                    <form class="space-y-4" method="post">
                        {% if error %}
                            <div class="bg-red-500 text-white p-3 rounded">
                                {{ error.messageKey|trans(error.messageData, 'security') }}
                            </div>
                        {% endif %}
                
                        {% if app.user %}
                            <div class="text-white p-3 rounded mb-3">
                                Vous êtes connecté en tant que {{ app.user.userIdentifier }},
                                <a href="{{ path('app_logout') }}" class="underline text-gray-300 hover:text-blue-300"> Se déconnecter </a>
                            </div>
                        {% endif %}
                
                        <div class="space-y-1">
                            <label for="username" class="block text-sm font-medium text-gray-300">Email </label> 
                            <input type="email" value="{{ last_username }}" name="_username" id="username" class="w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500" autocomplete="email" required autofocus>
                        </div>
                        <br>
                
                        <div class="space-y-1">
                            <label for="password" class="block text-sm font-medium text-gray-300">Mot de passe </label>
                            <input type="password" name="_password" id="password" class="w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500" autocomplete="current-password" required>
                        </div>

                        <br>
                        <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
                
                        <button style="background-color: #FFD700;" class="w-full mt-4 hover:bg-gray-300 text-black font-bold py-2 px-4 rounded focus:outline-none focus:ring-2 focus:ring-gray-500" type="submit">Se connecter</button>
                    </form>
            
                </div>
                <br>

                <p class="text-center mt-4 text-gray-300">
                    Vous n'avez pas de compte ? 
                    <a href="{{ path('app_role_choice') }}" class="text-gray-300">Inscrivez-vous ici</a>.
                </p>

            </div>

        {% endblock %}
    </body>
</html>
