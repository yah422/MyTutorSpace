<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>{% block title %}Bienvenue !{% endblock %}</title>
    <link rel="icon" href="{{ asset('img/iconTitle.png') }}">
    {% block stylesheets %}
    {{ encore_entry_link_tags('app') }}
    <link rel="stylesheet" href="{{ asset('styles/app.css') }}">
    {% endblock %}

    {% block javascripts %}
    {{ encore_entry_script_tags('app') }}
    {% block importmap %}{{ importmap('app') }}{% endblock %}
    {% endblock %}
</head>

<body>

    <nav class="bg-[#1B4255] p-4">
        <div class="container mx-auto flex justify-between items-center">
            <!-- Logo de la navbar -->
            <a href="{{ path('home') }}" style="color:#FFD700;" class=" text-xl font-bold">MyTutorSpace</a>

            <!-- Menu principal -->
            <ul class="flex items-center space-x-6">
                <!-- Barre de recherche -->
                <div class="relative">
                    <input type="text"
                        class="bg-white text-blue-900 placeholder-blue-900 px-4 py-2 rounded-full focus:outline-none"
                        placeholder="Recherche..." />
                    <button class="absolute right-0 top-0 mt-2 mr-4 text-blue-900">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
                            class="w-5 h-5">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M21 21l-4.35-4.35m2.55-6.15a7.5 7.5 0 11-15 0 7.5 7.5 0 0115 0z" />
                        </svg>
                    </button>
                </div>  
                <!-- Dropdown Matières -->
                <ul class="divide-y divide-gray-200 rounded-lg">
                    <li class="relative group">
                        <!-- Bouton pour ouvrir le dropdown -->
                        <button class="text-gray-300 hover:text-white focus:outline-none"><a
                                href="{{ path('app_matiere') }}">
                                Matières </a></button>

                        <!-- Liste des matières affichées dans le dropdown -->
                        <ul
                            class="absolute left-0 mt-2 w-48 bg-gray-900 text-gray-300 rounded-lg shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                            <!-- Boucle pour afficher chaque matière dans le même ul -->
                            {% for matiere in matieres %}
                            <li>
                                <a href="{{ path('show_matiere', {'id': matiere.id }) }}"
                                    class="block px-4 py-2 hover:bg-gray-700">{{
                                    matiere.nom }}</a>
                            </li>
                            {% endfor %}
                        </ul>
                    </li>
                </ul>

                <!-- Autres liens -->
                <li><a href="{{ path('app_ressource') }}" class="text-gray-300 hover:text-white">Ressources</a></li>
                <li><a href="{{ path('app_lecon') }}" class="text-gray-300 hover:text-white">Leçons</a></li>

                <!-- Vérifier si l'utilisateur est connecté -->
                {% if app.user %}
                <li>
                    <a href="{{ path('app_logout') }}" style="background-color: #ECECEC; color: black;"
                        class="bg-500 text-gray-300 px-4 py-2 rounded hover:bg-700">
                        <strong>Se déconnecter</strong>
                    </a>
                </li>
                {% else %}
                <li>
                    <a href="{{ path('app_login') }}" style="background-color: #ECECEC; color: black;"
                        class="bg-500 text-gray-300 px-4 py-2 rounded hover:bg-700">
                        <strong>Se connecter</strong>
                    </a>
                </li>
                <li>
                    <a href="{{ path('app_role_choice') }}" style="background-color: #FFD700; color: black;"
                        class="bg-500 text-gray-300 px-4 py-2 rounded hover:bg-700">
                        <strong>S'inscrire</strong>
                    </a>
                </li>
                {% endif %}
            </ul>

        </div>
    </nav>


    {% block body %}
    {% endblock %}
</body>

</html>